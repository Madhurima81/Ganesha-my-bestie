/* zones/shloka-river/scenes/Scene5/ShlokaRiverFinale.css */

.shloka-river-finale {
  width: 100vw;
  height: 100vh;
  position: relative;
  overflow: hidden;
  font-family: 'Comic Sans MS', cursive, sans-serif;
}

.finale-background {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Raft Container */
.raft-container {
  position: absolute;
  bottom: 25%;
  left: 50%;
  transform: translateX(-50%);
  width: 300px;
  height: 200px;
  z-index: 10;
}

.raft-image {
  width: 100%;
  height: 100%;
  object-fit: contain;
  filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3));
}

/* Animal positions on raft */
.animal-on-raft {
  position: absolute;
  width: 40px;
  height: 40px;
  animation: boardRaft 0.8s ease-out forwards;
  z-index: 15;
}

.raft-animal-image {
  width: 100%;
  height: 100%;
  object-fit: contain;
  filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
}

/* Raft positions for 8 animals */
.position-1 { top: 20%; left: 15%; }
.position-2 { top: 30%; left: 35%; }
.position-3 { top: 40%; left: 20%; }
.position-4 { top: 50%; left: 40%; }
.position-5 { top: 20%; left: 60%; }
.position-6 { top: 30%; left: 80%; }
.position-7 { top: 40%; left: 65%; }
.position-8 { top: 50%; left: 85%; }

/* Riverbank animals */
.riverbank-animal {
  position: absolute;
  width: 60px;
  height: 60px;
  cursor: pointer;
  transition: transform 0.3s ease;
  animation: animalAppear 0.6s ease-out forwards;
  z-index: 5;
}

.riverbank-animal:hover {
  transform: scale(1.1);
}

.riverbank-animal:hover .animal-glow {
  opacity: 1;
}

.riverbank-animal-image {
  width: 100%;
  height: 100%;
  object-fit: contain;
  filter: drop-shadow(0 3px 6px rgba(0,0,0,0.2));
  transition: filter 0.3s ease;
}

.animal-glow {
  position: absolute;
  top: -5px;
  left: -5px;
  right: -5px;
  bottom: -5px;
  background: radial-gradient(circle, rgba(255,215,0,0.6) 0%, transparent 70%);
  border-radius: 50%;
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
}

/* Animal positioning on riverbank */
.animal-vakratunda { top: 15%; left: 10%; }
.animal-mahakaya { top: 25%; left: 85%; }
.animal-samaprabha { top: 45%; left: 5%; }
.animal-suryakoti { top: 35%; left: 15%; }
.animal-nirvighnam { top: 55%; left: 90%; }
.animal-kurumedeva { top: 65%; left: 10%; }
.animal-sarvakaryeshu { top: 75%; left: 80%; }
.animal-sarvada { top: 85%; left: 25%; }

/* Welcome Message */
.welcome-message {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(255, 255, 255, 0.95);
  padding: 30px 40px;
  border-radius: 20px;
  text-align: center;
  box-shadow: 0 8px 25px rgba(0,0,0,0.15);
  z-index: 100;
  animation: messageSlideIn 0.8s ease-out;
}

.welcome-content h2 {
  color: #8B4513;
  font-size: 24px;
  font-weight: bold;
  margin-bottom: 15px;
  text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
}

.welcome-content p {
  color: #1565C0;
  font-size: 16px;
  margin-bottom: 8px;
  line-height: 1.4;
}

.welcome-content p:last-child {
  font-size: 14px;
  color: #666;
  font-style: italic;
}

/* Mid Celebration */
.mid-celebration {
  position: absolute;
  top: 40%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: linear-gradient(135deg, #DAA520, #FFD700);
  color: white;
  padding: 20px 30px;
  border-radius: 15px;
  text-align: center;
  box-shadow: 0 6px 20px rgba(218, 165, 32, 0.4);
  z-index: 50;
  animation: celebrationPulse 0.6s ease-out;
}

.celebration-content h3 {
  font-size: 20px;
  font-weight: bold;
  margin-bottom: 8px;
  text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
}

.celebration-content p {
  font-size: 14px;
  margin: 0;
  text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
}

/* Final Celebration */
.final-celebration {
  position: absolute;
  top: 35%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: linear-gradient(135deg, #9370DB, #8A2BE2);
  color: white;
  padding: 25px 35px;
  border-radius: 20px;
  text-align: center;
  box-shadow: 0 8px 25px rgba(147, 112, 219, 0.4);
  z-index: 50;
  animation: finalCelebrationGlow 1s ease-out;
}

.final-celebration h2 {
  font-size: 24px;
  font-weight: bold;
  margin-bottom: 10px;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

.final-celebration p {
  font-size: 16px;
  margin: 0;
  text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
}

/* Progress Counter */
.progress-counter {
  position: absolute;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(255, 255, 255, 0.9);
  padding: 10px 20px;
  border-radius: 25px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  z-index: 20;
}

.counter-content {
  display: flex;
  align-items: center;
  gap: 8px;
}

.counter-icon {
  font-size: 20px;
}

.counter-text {
  font-size: 16px;
  font-weight: bold;
  color: #8B4513;
}

/* Error Boundary */
.error-boundary {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: white;
  padding: 30px;
  border-radius: 15px;
  text-align: center;
  box-shadow: 0 8px 25px rgba(0,0,0,0.15);
  z-index: 200;
}

.error-boundary h2 {
  color: #d32f2f;
  margin-bottom: 20px;
}

.error-boundary button {
  background: #8B4513;
  color: white;
  border: none;
  padding: 12px 25px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 16px;
}

/* Animal 1 - Vakratunda Elephant */
.animal-vakratunda { 
  top: 15%; 
  left: 8%; /* Move slightly left from 10% */
  width: 70px; /* Make bigger from default 60px */
  height: 70px;
}

/* Animal 2 - Mahakaya Elephant */
.animal-mahakaya { 
  top: 20%; /* Move down from 25% */
  left: 88%; /* Move right from 85% */
  width: 75px; /* Bigger elephant */
  height: 75px;
}

/* Animal 3 - Samaprabha Kitten */
.animal-samaprabha { 
  top: 50%; /* Move up from 45% */
  left: 3%; /* Move left from 5% */
  width: 55px; /* Smaller kitten */
  height: 55px;
}

/* Animal 4 - Suryakoti Fairy */
.animal-suryakoti { 
  top: 30%; /* Move down from 35% */
  left: 18%; /* Move right from 15% */
  width: 60px; /* Standard size */
  height: 60px;
}

/* Animal 5 - Nirvighnam Snail */
.animal-nirvighnam { 
  top: 60%; /* Move up from 55% */
  left: 92%; /* Move right from 90% */
  width: 50px; /* Smaller snail */
  height: 50px;
}

/* Animal 6 - Kurumedeva Peacock */
.animal-kurumedeva { 
  top: 70%; /* Move up from 65% */
  left: 8%; /* Move left from 10% */
  width: 80px; /* Bigger peacock */
  height: 80px;
}

/* Animal 7 - Sarvakaryeshu Duck */
.animal-sarvakaryeshu { 
  top: 78%; /* Move up from 75% */
  left: 85%; /* Move right from 80% */
  width: 65px; /* Medium duck */
  height: 65px;
}

/* Animal 8 - Sarvada Fawn */
.animal-sarvada { 
  top: 88%; /* Move up from 85% */
  left: 30%; /* Move right from 25% */
  width: 60px; /* Standard fawn */
  height: 60px;
}

.golden-ring-indicator {
  position: absolute;
  top: -8px;
  left: -8px;
  right: -8px;
  bottom: -8px;
  border: 4px solid #FFD700;
  border-radius: 50%;
  animation: goldenRingPulse 1.5s ease-in-out infinite;
  pointer-events: none;
  box-shadow: 0 0 20px rgba(255, 215, 0, 0.6);
}

.wrong-click-feedback {
  position: absolute;
  top: -30px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(244, 67, 54, 0.9);
  color: white;
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: bold;
  animation: feedbackBounce 1.5s ease-out;
  z-index: 100;
}

.correct-click-sparkles {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.correct-click-sparkles .sparkle {
  position: absolute;
  top: 50%;
  left: 50%;
  font-size: 16px;
  animation: sparkleOrbit 1s ease-out forwards;
  transform-origin: 0 0;
}

@keyframes goldenRingPulse {
  0%, 100% {
    opacity: 0.8;
    transform: scale(1);
    border-width: 4px;
  }
  50% {
    opacity: 1;
    transform: scale(1.08);
    border-width: 6px;
  }
}

@keyframes feedbackBounce {
  0% {
    opacity: 0;
    transform: translateX(-50%) translateY(-10px) scale(0.8);
  }
  20% {
    opacity: 1;
    transform: translateX(-50%) translateY(-5px) scale(1.1);
  }
  80% {
    opacity: 1;
    transform: translateX(-50%) translateY(0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateX(-50%) translateY(-5px) scale(0.9);
  }
}

/* Animations */
@keyframes animalAppear {
  from {
    opacity: 0;
    transform: scale(0.8) translateY(20px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes gentleBreathing {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.02);
  }
}

@keyframes nextAnimalPulse {
  0%, 100% {
    transform: scale(1);
    filter: drop-shadow(0 3px 6px rgba(0,0,0,0.2));
  }
  50% {
    transform: scale(1.05);
    filter: drop-shadow(0 4px 12px rgba(218, 165, 32, 0.4));
  }
}

@keyframes wrongClickShake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  75% { transform: translateX(5px); }
}

@keyframes correctClickMagic {
  0% {
    transform: scale(1);
    filter: brightness(1) drop-shadow(0 3px 6px rgba(0,0,0,0.2));
  }
  30% {
    transform: scale(1.15);
    filter: brightness(1.3) drop-shadow(0 6px 20px rgba(255, 215, 0, 0.6));
  }
  60% {
    transform: scale(1.1);
    filter: brightness(1.2) drop-shadow(0 4px 15px rgba(255, 215, 0, 0.4));
  }
  100% {
    transform: scale(1);
    filter: brightness(1) drop-shadow(0 3px 6px rgba(0,0,0,0.2));
  }
}

@keyframes sparkleOrbit {
  0% {
    opacity: 0;
    transform: rotate(var(--angle)) translateX(20px) scale(0.5);
  }
  25% {
    opacity: 1;
    transform: rotate(var(--angle)) translateX(35px) scale(1);
  }
  75% {
    opacity: 1;
    transform: rotate(var(--angle)) translateX(40px) scale(1.2);
  }
  100% {
    opacity: 0;
    transform: rotate(var(--angle)) translateX(50px) scale(0.8);
  }

  
}

/* Make sparkles more visible */
.correct-click-sparkles .sparkle {
  position: absolute;
  top: 50%;
  left: 50%;
  font-size: 20px;        /* BIGGER sparkles */
  animation: sparkleOrbit 1.2s ease-out forwards;  /* LONGER animation */
  transform-origin: 0 0;
  color: #FFD700;         /* GOLDEN color */
  text-shadow: 0 0 10px #FFD700;  /* GLOW effect */
}

@keyframes numberPulse {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 0 15px rgba(218, 165, 32, 0.6);
  }
  50% {
    transform: scale(1.1);
    box-shadow: 0 0 25px rgba(218, 165, 32, 0.8);
  }
}

@keyframes feedbackBounce {
  0% {
    opacity: 0;
    transform: translateX(-50%) translateY(-10px) scale(0.8);
  }
  30% {
    opacity: 1;
    transform: translateX(-50%) translateY(0) scale(1.1);
  }
  100% {
    opacity: 0;
    transform: translateX(-50%) translateY(-5px) scale(1);
  }
}

@keyframes boardRaft {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes messageSlideIn {
  from {
    opacity: 0;
    transform: translate(-50%, -60%);
  }
  to {
    opacity: 1;
    transform: translate(-50%, -50%);
  }
}

@keyframes celebrationPulse {
  0% {
    transform: translate(-50%, -50%) scale(0.9);
    opacity: 0;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.05);
  }
  100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
}

@keyframes finalCelebrationGlow {
  0% {
    transform: translate(-50%, -50%) scale(0.8);
    opacity: 0;
    box-shadow: 0 8px 25px rgba(147, 112, 219, 0.4);
  }
  50% {
    transform: translate(-50%, -50%) scale(1.1);
    box-shadow: 0 12px 35px rgba(147, 112, 219, 0.6);
  }
  100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
    box-shadow: 0 8px 25px rgba(147, 112, 219, 0.4);
  }
}

/* Loading state */
.loading {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 18px;
  color: #8B4513;
  font-weight: bold;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .raft-container {
    width: 250px;
    height: 180px;
    bottom: 20%;
  }
  
  .riverbank-animal {
    width: 50px;
    height: 50px;
  }
  
  .animal-on-raft {
    width: 35px;
    height: 35px;
  }
  
  .welcome-message {
    padding: 20px 25px;
    max-width: 90%;
  }
  
  .welcome-content h2 {
    font-size: 20px;
  }
  
  .welcome-content p {
    font-size: 14px;
  }
}

@media (max-width: 480px) {
  .raft-container {
    width: 200px;
    height: 150px;
  }
  
  .riverbank-animal {
    width: 45px;
    height: 45px;
  }
  
  .animal-on-raft {
    width: 30px;
    height: 30px;
  }
  
  .welcome-content h2 {
    font-size: 18px;
  }
  
  .celebration-content h3 {
    font-size: 18px;
  }
  
  .final-celebration h2 {
    font-size: 20px;
  }
}